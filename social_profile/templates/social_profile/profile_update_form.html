{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Редактирование профиля{% endblock %}

{% block content %}
    {% if request.user.is_staff %}
        {% include 'hr/navbar_hr.html' %}
    {% else %}
        {% include "social_profile/navbar.html" %}
    {% endif %}
    <div class="container">
        <br>
        <form enctype="multipart/form-data" action="{% url 'profile:profile_update' obj.id %}" method="post">{% csrf_token %}

            <div class="card">
                <div class="card-body">
                    {% if obj.profile_img %}
                        <img src="{{ obj.profile_img.url }}" alt="profile_image" class="img-thumbnail" width="200">
                    {% endif %}
                    <input type="file"></input>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Персональные данные</b>&nbsp;
                        <a class="btn btn-light" onclick="window.open('{% url 'profile:profile_update_personal_data' obj.id %}','popup','width=1000,height=500'); return false;"><i class="fas fa-pencil-alt"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label>Фамилия</label>
                                {% render_field form.last_name|attr:"required:required"|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label>Имя</label>
                                {% render_field form.first_name|append_attr:"required:required"|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label>Отчество</label>
                                {% render_field form.patronymic|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label>Email</label>
                                {% render_field form.email|append_attr:"required:required"|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label>Дата рождения</label>
                                {% render_field form.date_of_birth|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                        <div class="col-lg-4">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label>О себе</label>
                                {% render_field form.about_myself|attr:"disabled" class+="form-control" rows="3" %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Контактный телефон</label>
                                {% render_field form.contact_information_phone|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Адрес</label>
                                {% render_field form.contact_information_address|attr:"disabled" class+="form-control" %}
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Образование</b>&nbsp;
                        <a class="btn btn-light" href=""><i class="fas fa-plus"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Учебное заведение</label>
                                <select class="form-control" id="id_education" name="education">
                                    {% for educ in educational %}
                                        <option value="{{ educ.id }}">{{ educ.institutional_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Специальность</label>
                                <select class="form-control" id="id_education" name="education">
                                    <option selected>----</option>
                                    {% for spec in specialties %}
                                        <option value="{{ spec.id }}">{{ spec.specialty_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Опыт работы</b>&nbsp;
                        <a class="btn btn-light" href=""><i class="fas fa-plus"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                {#                                <label>Опыт работы</label>#}
                                {#                        {% render_field form.contact_information_phone class+="form-control" %}#}
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Интересы</b>&nbsp;
                        <a class="btn btn-light" href=""><i class="fas fa-plus"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label>Выберите из списка</label>
                                {% render_field form.interests class+="form-control select2_class" rows="3" %}
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Навыки</b>&nbsp;
                        <a class="btn btn-light" href=""><i class="fas fa-plus"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label>Выберите из списка</label>
                                {% render_field form.skills class+="form-control select2_class" rows="3" %}
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-end align-items-center"><b>Владение языками</b>&nbsp;
                        <a class="btn btn-light" href=""><i class="fas fa-plus"></i></a>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
{#                                                                <label>Владение языками</label>#}
                                {#                                    {% render_field form.contact_information_phone class+="form-control" %}#}
                            </div>
                        </div>
                    </div>
                </div>
            </div><br>
            {#            <button type="submit" class="btn btn-primary" disabled>Сохранить</button>#}
        </form>
    </div>
{% endblock %}


